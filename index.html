<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>Nativo Â· Boxy Fit 240g</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header class="header">
    <div class="header-inner">
      <a href="#" class="logo">
        <img src="icons/logoimpreso.png" alt="Nativo">
      </a>
      <nav class="social">
        <a href="https://instagram.com/nativo.st" target="_blank" aria-label="Instagram Nativo">
          <img src="icons/instagram.png" alt="">
        </a>
        <a href="https://www.facebook.com/people/Nativo/61586116301114/" target="_blank" aria-label="Facebook Nativo">
          <img src="icons/facebook.png" alt="">
        </a>
        <a href="https://wa.me/523951024699" target="_blank" aria-label="WhatsApp Nativo">
          <img src="icons/whatsapp.png" alt="">
        </a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="hero-media">
      <picture>
        <source media="(min-width: 481px)" srcset="icons/iglesia.png">
        <img src="icons/iglesia.png" alt="BasÃ­lica San Juan de los Lagos" class="hero-img">
      </picture>
    </div>
    <div class="hero-layer"></div>
    <div class="hero-text-block">
      <h1>Nativo</h1>
      <div class="hero-meta">
        <p class="tag">Boxy Fit 240 g</p>
        <p class="location">San Juan de los Lagos</p>
      </div>
      <p class="lead">AlgodÃ³n premium. Corte contemporÃ¡neo.<br>Entrega a Domicilio. Pago al recibir.</p>
    </div>
  </section>

  <section class="collection">
    <div class="collection-header">
      <h2>Nuestras Piezas</h2>
    </div>
    <div class="items-grid">

      <article class="item" data-path360="Catalogo/360/camisa-negra/" data-frente="CRMLF-frente.png" data-reverso="CRMLF-reverso.png">
        <div class="item-media">
          <img src="Catalogo/CRMLF-BLACK-SHIRT-CF.jpg" alt="Camisa negra, CRMLF" loading="lazy">
        </div>
        <div class="item-info">
          <h3>CRMLF-NEGRA</h3>
          <p class="desc">Boxy fit relajado Â· 240g algodÃ³n premium</p>
          <div class="price-action">
            <span class="price">$600</span>
            <a href="#" class="btn" data-product="Camisa CRMLF-Negra Nativo - $600" data-image="https://drive.google.com/uc?export=view&id=1vdPBX2uawu1GlzBTYHRDF9uaQ4wWlNI2">Pedir â†’</a>
          </div>
        </div>
      </article>

      <article class="item" data-path360="Catalogo/360/clemont-negra/" data-frente="Clemont-frente.png" data-reverso="Clemont-reverso.png">
        <div class="item-media">
          <img src="Catalogo/Clemont-Negra-CF.jpg" alt="Camisa Negra, Clemont" loading="lazy">
        </div>
        <div class="item-info">
          <h3>Clemont-Negra</h3>
          <p class="desc">Tono neutro premium Â· Corte boxy contemporÃ¡neo</p>
          <div class="price-action">
            <span class="price">$600</span>
            <a href="#" class="btn" data-product="Camisa Clemont-Negra - $600" data-image="https://drive.google.com/uc?export=view&id=1_J3DX6DuhhD0Z13MSj1cnVCj_HVUx9V9">Pedir â†’</a>
          </div>
        </div>
      </article>

      <article class="item" data-path360="Catalogo/360/300-noches/" data-frente="300-noches-frente.png" data-reverso="300-noches-reverso.png">
        <div class="item-media">
          <img src="Catalogo/300-Noches-Mariposa.png" alt="Camisa Negra con Mariposa, 300 noches Natanael Cano " loading="lazy">
        </div>
        <div class="item-info">
          <h3>Negro</h3>
          <p class="desc">Tono oscuro premium Â· Corte boxy contemporÃ¡neo</p>
          <div class="price-action">
            <span class="price">$480</span>
            <a href="#" class="btn" data-product="Camisa Negra con Mariposa Nativo - $480" data-image="https://drive.google.com/uc?export=view&id=1pDNCVuoA79gpLsCCNJwUVtS_tomIfvxZ">Pedir â†’</a>
          </div>
        </div>
      </article>

      <article class="item" data-path360="Catalogo/360/Youngla-AOT-CF/" data-frente="Gemini-frente.png" data-reverso="Gemini-reverso.png">
        <div class="item-media">
          <img src="Catalogo/Youngla-Negra.jpg" alt="Camisa Gris" loading="lazy">
        </div>
        <div class="item-info">
          <h3>Camisa Gris</h3>
          <p class="desc">Boxy fit relajado Â· 240g algodÃ³n premium</p>
          <div class="price-action">
            <span class="price">$480</span>
            <a href="#" class="btn" data-product="Camisa Gris con Estrella Nativo - $480" data-image="https://drive.google.com/uc?export=view&id=1AK4J8FhRWFgz2fnQeIyXIp4Ldtg2oJIs">Pedir â†’</a>
          </div>
        </div>
      </article>

      <article class="item" data-path360="Catalogo/360/youngla-aot/" data-frente="Youngla-AOT-frente.png" data-reverso="Youngla-AOT-reverso.png">
        <div class="item-media">
          <img src="Catalogo/Youngla-AOT-CF.jpg" alt="Camisa Gris" loading="lazy">
        </div>
        <div class="item-info">
          <h3>Camisa Gris</h3>
          <p class="desc">Boxy fit relajado Â· 240g algodÃ³n premium</p>
          <div class="price-action">
            <span class="price">$480</span>
            <a href="#" class="btn" data-product="Camisa Gris con Estrella Nativo - $480" data-image="https://drive.google.com/uc?export=view&id=1AK4J8FhRWFgz2fnQeIyXIp4Ldtg2oJIs">Pedir â†’</a>
          </div>
        </div>
      </article>

      <article class="item" data-path360="Catalogo/360/gemini/" data-frente="Gemini-frente.png" data-reverso="Gemini-reverso.png">
        <div class="item-media">
          <img src="Catalogo/Youngla-Negra-AOT.jpg" alt="Camisa Gris" loading="lazy">
        </div>
        <div class="item-info">
          <h3>Camisa Gris</h3>
          <p class="desc">Boxy fit relajado Â· 240g algodÃ³n premium</p>
          <div class="price-action">
            <span class="price">$480</span>
            <a href="#" class="btn" data-product="Camisa Gris con Estrella Nativo - $480" data-image="https://drive.google.com/uc?export=view&id=1AK4J8FhRWFgz2fnQeIyXIp4Ldtg2oJIs">Pedir â†’</a>
          </div>
        </div>
      </article>

      <!-- Puedes duplicar <article class="item"> para mÃ¡s camisas -->
    </div>
  </section>

  <footer class="footer">
    <p>Nativo Â· Orgullosamente de San Juan de los Lagos, Jalisco</p>
    <p>Entregas rÃ¡pidas en moto Â· Pago en efectivo al recibir</p>
  </footer>

  <!-- Modal para vista del producto -->
  <div id="product-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="modal-media">
        <img id="360-image" src="" alt="Producto 360Â°" style="width: 100%; height: 400px; object-fit: contain; background: transparent;">
      </div>
      <div class="modal-info">
        <h3 id="modal-title"></h3>
        <p id="modal-desc" class="desc"></p>
        <span id="modal-price" class="price"></span>
        <a id="modal-order-btn" href="#" class="btn">Pedir â†’</a>
      </div>
    </div>
  </div>

  <script>
    const phone = "523951024699";

    // FunciÃ³n para abrir el modal con el producto seleccionado
    document.querySelectorAll('.item').forEach(item => {
      item.addEventListener('click', e => {
        console.log('Clic en artÃ­culo detectado'); // Debugging
        e.preventDefault();
        const path360 = item.dataset.path360; // Ruta de las imÃ¡genes 360Â°
        console.log('Ruta 360:', path360); // Debugging
        const title = item.querySelector('h3').textContent;
        const desc = item.querySelector('.desc').textContent;
        const price = item.querySelector('.price').textContent;
        const orderBtn = item.querySelector('.btn');
        const productData = orderBtn.dataset.product;
        const imageData = orderBtn.dataset.image;

        // Poblar el modal
        document.getElementById('modal-title').textContent = title;
        document.getElementById('modal-desc').textContent = desc;
        document.getElementById('modal-price').textContent = price;
        document.getElementById('modal-order-btn').dataset.product = productData;
        document.getElementById('modal-order-btn').dataset.image = imageData;

        
        const imgElement = document.getElementById('360-image');
        const frenteSrc = item.dataset.frente; // Nombre de la imagen frente
        const reversoSrc = item.dataset.reverso; // Nombre de la imagen reverso
        let currentFrame = 1; // 1 = frente, 2 = reverso
        let isDragging = false;
        let startX = 0;
        let hasSwitched = false; 

        
        const updateImage = () => {
          imgElement.src = currentFrame === 1 ? `${path360}${frenteSrc}` : `${path360}${reversoSrc}`;
        };

        
        imgElement.addEventListener('click', (e) => {
          if (!isDragging) { // Solo si no estÃ¡ arrastrando
            currentFrame = currentFrame === 1 ? 2 : 1; // Alterna
            updateImage();
          }
        });

        // Evento de mouse down (iniciar arrastre)
        imgElement.addEventListener('mousedown', (e) => {
          isDragging = true;
          startX = e.clientX;
          hasSwitched = false; // Reset para cada arrastre
        });

        
        imgElement.addEventListener('mousemove', (e) => {
          if (!isDragging || hasSwitched) return; // Solo si estÃ¡ arrastrando y no ha cambiado aÃºn
          const deltaX = e.clientX - startX;
          const sensitivity = 150; // Sensibilidad mayor para evitar cambios accidentales
          if (Math.abs(deltaX) > sensitivity) {
            currentFrame = currentFrame === 1 ? 2 : 1; // Alterna una vez por arrastre
            updateImage();
            hasSwitched = true; // Evita cambios mÃºltiples
          }
        });

        
        imgElement.addEventListener('mouseup', () => {
          isDragging = false;
        });

        // Para mÃ³vil (touch)
        imgElement.addEventListener('touchstart', (e) => {
          isDragging = true;
          startX = e.touches[0].clientX;
          hasSwitched = false;
        });

        imgElement.addEventListener('touchmove', (e) => {
          if (!isDragging || hasSwitched) return;
          const deltaX = e.touches[0].clientX - startX;
          const sensitivity = 150;
          if (Math.abs(deltaX) > sensitivity) {
            currentFrame = currentFrame === 1 ? 2 : 1;
            updateImage();
            hasSwitched = true;
          }
        });

        imgElement.addEventListener('touchend', () => {
          isDragging = false;
        });

        // Mostrar la primera imagen (frente)
        updateImage();

        // Mostrar el modal
        document.getElementById('product-modal').style.display = 'block';
        console.log('Modal mostrado'); // Debugging
      });
    });

    // Cerrar el modal
    document.querySelector('.close').addEventListener('click', () => {
      document.getElementById('product-modal').style.display = 'none';
      console.log('Modal cerrado'); // Debugging
    });

    // Cerrar al hacer clic fuera del modal
    window.addEventListener('click', e => {
      if (e.target === document.getElementById('product-modal')) {
        document.getElementById('product-modal').style.display = 'none';
        console.log('Modal cerrado por clic fuera'); // Debugging
      }
    });

    // CÃ³digo original para los botones de pedido
    document.querySelectorAll('.btn').forEach(el => {
      el.addEventListener('click', e => {
        e.preventDefault();
        const prod = el.dataset.product;
        const img = el.dataset.image || '';
        const imgPart = img ? `\nVer imagen: ${img}` : '';
        const msg = `Hola Nativo ðŸ‘‹\nQuiero la:\n${prod}${imgPart}\nÂ¿Tallas disponibles? Â¿CuÃ¡ndo entregan en San Juan?`;
        window.open(`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`, '_blank');
      });
    });

    // Scroll listener original
    window.addEventListener('scroll', () => {
      document.querySelector('.header').classList.toggle('scrolled', window.scrollY > 50);
    });
  </script>
</body>
</html>